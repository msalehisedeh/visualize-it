{
  "version": 3,
  "file": "visualize-it.js",
  "sources": [
    "ng://visualize-it/out/src/app/visualize-it/visualize-it.module.ts",
    "ng://visualize-it/out/src/app/visualize-it/components/visualize-it.component.ts"
  ],
  "sourcesContent": [
    "import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { VisualizeItComponent } from './components/visualize-it.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    VisualizeItComponent\r\n  ],\r\n  exports: [\r\n    VisualizeItComponent\r\n  ],\r\n  entryComponents: [\r\n    VisualizeItComponent\r\n  ],\r\n  providers: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class VisualizeItModule {}\r\n",
    "/*\r\n * tool to display result of a search on set of points of interests on objects.\r\n */\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnChanges,\r\n  AfterViewInit ,\r\n  Input,\r\n  Output,\r\n  ViewChild,\r\n  EventEmitter,\r\n  ElementRef\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'visualize-it',\r\n  template: `\r\n<div class=\"legends\" *ngIf=\"enableLegends\">\r\n    <a tabindex=\"0\" (click)=\"showLegend = !showLegend;showHelp = false\" title=\"show Legend\"><span class=\"legend\">&#9826;</span></a>\r\n    \r\n    <a *ngIf=\"!expanded\" tabindex=\"0\" (click)=\"expand(true)\" title=\"show in full screen\"><span class=\"expand\">&#9859;</span></a>\r\n    <a *ngIf=\"expanded\" tabindex=\"0\" (click)=\"expand(false)\" title=\"show in normal screen\"><span class=\"expand\">&#9860;</span></a>\r\n    \r\n    <a tabindex=\"0\" (click)=\"showLegend = false;showHelp = !showHelp\" title=\"show help\"><span class=\"help\">?</span></a>\r\n    <fieldset class=\"info\" *ngIf=\"showLegend\">\r\n        <legend>Definitions</legend>\r\n        <b>Link types:</b><br/>\r\n        <strong>Dotted line:</strong> Destination of a Node<br/>\r\n        <strong>Line:</strong> Source of a Node<br/>\r\n        <span *ngIf=\"showDirections\"><strong>Line Arrow:</strong> Pointing toward the destination.<br/></span>\r\n\r\n        <br/><b>Node types:</b><br/>\r\n        <span *ngIf=\"typeMapping['circle']\"><strong>Circle</strong> - {{typeMapping['circle']}}<br/></span>\r\n        <span *ngIf=\"typeMapping['cross']\"><strong>Cross</strong> - {{typeMapping['cross']}}<br/></span>\r\n        <span *ngIf=\"typeMapping['diamond']\"><strong>Diamond</strong> - {{typeMapping['diamond']}}<br/></span>\r\n        <span *ngIf=\"typeMapping['square']\"><strong>Square</strong> - {{typeMapping['square']}}<br/></span>\r\n        <span *ngIf=\"typeMapping['triangle-down']\"><strong>Triangle-down</strong> - {{typeMapping['triangle-down']}}<br/></span>\r\n        <span *ngIf=\"typeMapping['triangle-up']\"><strong>Triangle-up</strong> - {{typeMapping['triangle-up']}}<br/></span>\r\n    </fieldset>\r\n    <fieldset class=\"info\" *ngIf=\"showHelp\">\r\n        <legend>Tips</legend>\r\n        <b>Hover on a node to highlight 1st-order neighbourhood.</b><br/>\r\n        <b>Hold mouse down on a node to fade surroundings.</b><br/>\r\n        <b>Double-click to center node and zoom in.</b><br/>\r\n        <b>Hold SHIFT and Double-click to zoom out.</b><br/><br/>\r\n\r\n        <b>Filter nodes by:</b><br/>\r\n        <strong>\".\" :</strong> Stop/resume animation<br/>\r\n        <strong>\"!\" :</strong> Show/hide node category on hover<br/>\r\n        <strong>\"#\" :</strong> Show/hide link arrow direction<br/>\r\n        <strong>\"@\" :</strong> Show/hide node names or node category<br/>\r\n        <strong>\"T\" :</strong> Enable/disable displaying of Tooltip<br/>\r\n        <strong>\"Z\" :</strong> Do/Don't Normalize node sizes on zoom<br/>\r\n        <span *ngIf=\"typeMapping['circle']\"><strong>\"C\" :</strong> Show/hide all circle ( {{typeMapping['circle']}} ) nodes<br/></span>\r\n        <span *ngIf=\"typeMapping['cross']\"><strong>\"X\" :</strong> Show/hide all cross ( {{typeMapping['cross']}} ) nodes<br/></span>\r\n        <span *ngIf=\"typeMapping['diamond']\"><strong>\"R\" :</strong> Show/hide all diamond ( {{typeMapping['diamond']}} ) nodes<br/></span>\r\n        <span *ngIf=\"typeMapping['square']\"><strong>\"S\" :</strong> Show/hide all square ( {{typeMapping['square']}} ) nodes<br/></span>\r\n        <span *ngIf=\"typeMapping['triangle-down']\"><strong>\"D\" :</strong> Show/hide all triangle-down ( {{ typeMapping['triangle-down']}} ) nodes<br/></span>\r\n        <span *ngIf=\"typeMapping['triangle-up']\"><strong>\"U\" :</strong> Show/hide all triangle-up ( {{typeMapping['triangle-up']}} ) nodes<br/></span>\r\n        <strong>\"L\" :</strong> Show/hide all low range group (%33) nodes<br/>\r\n        <strong>\"M\" :</strong> Show/hide all medium range group (%50) nodes<br/>\r\n        <strong>\"H\" :</strong> Show/hide all high range group (%66) nodes<br/>\r\n        <strong>\"1\" :</strong> Show/hide all low range group (%33) links<br/>\r\n        <strong>\"2\" :</strong> Show/hide all medium range group (%50) links<br/>\r\n        <strong>\"3\" :</strong> Show/hide all high range group (%66) links\r\n    </fieldset>\r\n</div>\r\n\r\n<div class=\"d3-container\" \r\n    tabindex=\"0\"\r\n    [style.width]=\"width\"\r\n    [style.height]=\"height\"\r\n    id=\"d3-container\" #d3Container></div>\r\n`,\r\n  styles: [`:host{\n  position:relative;\n  display:block; }\n  :host.expanded-container{\n    position:inherit !important; }\n    :host.expanded-container .d3-container{\n      position:absolute;\n      top:0;\n      left:0;\n      width:100vw !important;\n      height:100vh !important;\n      border:0 !important;\n      margin:0 !important;\n      z-index:3; }\n  :host .legends{\n    position:absolute;\n    right:12px;\n    top:5px;\n    z-index:4; }\n    :host .legends a{\n      cursor:pointer;\n      font-weight:bold;\n      font-size:1.2rem; }\n      :host .legends a span{\n        background-color:#eee;\n        padding:0 3px;\n        width:13px;\n        float:left;\n        height:25px;\n        line-height:25px;\n        border:1px solid #3a3939; }\n      :host .legends a .expand{\n        text-align:center;\n        border-left:0;\n        border-right:0; }\n      :host .legends a .legend{\n        border-radius:5px 0 0 5px;\n        border-right:0; }\n      :host .legends a .help{\n        border-radius:0 5px 5px 0;\n        border-left:0; }\n      :host .legends a:hover{\n        color:#fff; }\n        :host .legends a:hover span{\n          background-color:#b65200; }\n    :host .legends .info{\n      padding:5px;\n      border:1px solid #888;\n      border-radius:5px;\n      position:absolute;\n      right:0px;\n      font-size:0.7rem;\n      line-height:1rem;\n      -webkit-box-shadow:1px 1px 3px #bbb;\n              box-shadow:1px 1px 3px #bbb;\n      background-color:#fff;\n      width:350px;\n      top:15px; }\n      :host .legends .info legend{\n        color:#af8d03;\n        font-size:1rem;\n        font-weight:bold; }\n      :host .legends .info strong{\n        color:#8f0000;\n        font-size:0.8rem;\n        margin-left:20px; }\n  :host #d3-container{\n    border:1px solid #633;\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    border-radius:5px;\n    background-color:#fefefe;\n    margin:5px;\n    overflow:hidden; }\n    :host #d3-container ::ng-deep .danger{\n      background-color:#a80505;\n      color:#fff;\n      padding:10px;\n      display:table;\n      width:100%; }\n  :host ::ng-deep path.link{\n    fill:none;\n    stroke:#666;\n    stroke-width:1.5px; }\n  :host ::ng-deep circle{\n    fill:#ccc;\n    stroke:#fff;\n    stroke-width:1.5px; }\n  :host ::ng-deep text{\n    fill:#000;\n    font:10px sans-serif;\n    pointer-events:none; }\n  :host ::ng-deep div.tooltip{\n    position:absolute;\n    padding:5px;\n    font:12px sans-serif;\n    background:#cfcfcf;\n    border:1px solid #3a3939;\n    border-radius:4px;\n    pointer-events:none;\n    z-index:5; }\n`],\r\n})\r\nexport class VisualizeItComponent implements OnInit, AfterViewInit, OnChanges  {\r\n\r\n  showLegend = false;\r\n  showHelp = false;\r\n  expanded = false;\r\n  \r\n  @Input(\"enableTooltip\")\r\n  enableTooltip: boolean;\r\n\r\n  @Input(\"enableLegends\")\r\n  enableLegends: boolean;\r\n\r\n  @Input(\"showTypeOnHover\")\r\n  showTypeOnHover: boolean;\r\n\r\n  @Input(\"showDirections\")\r\n  showDirections: boolean;\r\n\r\n  @Input(\"data\")\r\n  data: any;\r\n\r\n  @Input(\"typeMapping\")\r\n  typeMapping = {};\r\n\r\n  @Input(\"width\")\r\n  width: string;\r\n\r\n  @Input(\"height\")\r\n  height: string;\r\n\r\n  @Output(\"onVisualization\")\r\n  onVisualization = new EventEmitter();\r\n\r\n  @ViewChild(\"d3Container\")\r\n  d3Container;\r\n\r\n  constructor(private el: ElementRef){\r\n    document.addEventListener(\"webkitfullscreenchange\", (event) => {\r\n      if(!window.screenTop && !window.screenY) {\r\n        this.expand(false);\r\n      }\r\n    });\r\n    document.addEventListener(\"mozfullscreenchange\", (event) => {\r\n      const win: any = window;\r\n      const isFullScreen = win.fullScreen ||\r\n                          (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n      if(!isFullScreen) {\r\n        this.expand(false);\r\n      }\r\n    });\r\n    document.addEventListener(\"MSFullscreenChange\", (event) => {\r\n      const win: any = window;\r\n      const isFullScreen = win.fullScreen ||\r\n                          (win.innerWidth == screen.width && win.innerHeight == screen.height)\r\n      if(!isFullScreen) {\r\n        this.expand(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  private triggerEvaluation(points) {\r\n    if (points.length) {\r\n      const indexOf = {};\r\n      const errors = [];\r\n      const dataSet = {\r\n        links:[],\r\n        nodes: []\r\n      };\r\n      this.d3Container.nativeElement.innerHTML = \"\";\r\n      points.map( (node,index) => indexOf[node.id] = index);\r\n      points.map( (node, i) => {\r\n        dataSet.nodes.push({\r\n          size: node.size ? node.size: 10, \r\n          group: node.group? node.group : 0, \r\n          type: node.type && node.type.length ? node.type : \"circle\",\r\n          name: node.name,\r\n          data: node.data ? node.data : []\r\n        });\r\n        if(node.sources) {\r\n          node.sources.map( (id) => {\r\n            const item = indexOf[id];\r\n            if (item != undefined) {\r\n              dataSet.links.push({source: item, target: i});\r\n            } else {\r\n              errors.push(\"Missing source node '\" + id + \"' for node '\" + node.id + \"'.\");\r\n            }\r\n          })\r\n        }\r\n        if(node.destinations) {\r\n          node.destinations.map( (id) => {\r\n            const item = indexOf[id];\r\n            if (item != undefined) {\r\n              dataSet.links.push({source: i, target: item});\r\n            } else {\r\n              errors.push(\"Missing destination node '\" + id + \"' for node '\" + node.id + \"'.\");\r\n            }\r\n          })\r\n        }\r\n      });\r\n\r\n      if (errors.length) {\r\n        this.d3Container.nativeElement.innerHTML = \"<div class='danger'>\"+errors.join(\"<br/>\")+\"</div>\";\r\n      } else {\r\n        const offset = {x: this.el.nativeElement.offsetLeft, y: this.el.nativeElement.offsetTop};\r\n        window['initiateD3'](\r\n          window.innerWidth, \r\n          window.innerHeight,\r\n          offset, \r\n          dataSet,\r\n          this.typeMapping, \r\n          this.showTypeOnHover, \r\n          this.showDirections,\r\n          this.enableTooltip,\r\n          \"#d3-container\");\r\n      }\r\n    } else {\r\n      this.d3Container.nativeElement.innerHTML = \"<div class='danger'>Missing data.</div>\";\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: any) {\r\n    if (changes.data) {\r\n      setTimeout(this.ngOnInit.bind(this), 333);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    if( !(this.data instanceof Array)) {\r\n      this.data = [this.data];\r\n    }\r\n  }\r\n\r\n  async ngAfterViewInit() {\r\n    if (!window['initiateD3']) {\r\n      await this.loadScript(\"assets/d3.js\", 'd3js').then( () => {\r\n        this.triggerEvaluation(this.data);\r\n      });\r\n    } else {\r\n      this.triggerEvaluation(this.data);\r\n    }\r\n \t}\r\n   \r\n\tprivate loadScript(url, id) {    \r\n    return new Promise((resolve, reject) => {\r\n      const scriptElement = document.createElement('script');\r\n    \r\n      scriptElement.type = \"text/javascript\";\r\n      scriptElement.src = url;\r\n      scriptElement.onload = resolve;\r\n      \r\n      document.body.appendChild(scriptElement);\r\n\t\t})\r\n  }\r\n\r\n  expand(flag) {\r\n    const doc: any = document;\r\n\r\n    if (flag) {\r\n      const element: any = doc.documentElement;\r\n      if(element.requestFullscreen) {\r\n        element.requestFullscreen();\r\n      } else if(element.mozRequestFullScreen) {\r\n        element.mozRequestFullScreen();\r\n      } else if(element.webkitRequestFullscreen) {\r\n        element.webkitRequestFullscreen();\r\n      } else if(element.msRequestFullscreen) {\r\n        element.msRequestFullscreen();\r\n      }\r\n      this.el.nativeElement.classList.add(\"expanded-container\");\r\n      this.expanded = true;\r\n      if (window[\"centerVisibility\"]) {\r\n        window[\"centerVisibility\"](0, 0);\r\n      }\r\n    } else {\r\n      if(doc.exitFullscreen) {\r\n        doc.exitFullscreen();\r\n      } else if(doc.mozCancelFullScreen) {\r\n        doc.mozCancelFullScreen();\r\n      } else if(doc.webkitExitFullscreen) {\r\n        doc.webkitExitFullscreen();\r\n      }\r\n      this.el.nativeElement.classList.remove(\"expanded-container\");\r\n      this.expanded = false;\r\n      if (window[\"centerVisibility\"]) {\r\n        window[\"centerVisibility\"](this.el.nativeElement.offsetLeft, this.el.nativeElement.offsetTop);\r\n      }\r\n    }\r\n  }\r\n\r\n  onchange(event) {\r\n    this.triggerEvaluation(event.points);\r\n  }\r\n}\r\n"
  ],
  "names": [],
  "mappings": ";;;;;;;;ACkLA,MAAA,oBAAA,CAAA;;;;IAoCE,WAAF,CAAsB,EAAc,EAApC;QAAsB,IAAtB,CAAA,EAAwB,GAAF,EAAE,CAAY;QAlCpC,IAAA,CAAA,UAAA,GAAe,KAAK,CAApB;QACA,IAAA,CAAA,QAAA,GAAa,KAAK,CAAlB;QACA,IAAA,CAAA,QAAA,GAAa,KAAK,CAAlB;QAkBA,IAAA,CAAA,WAAA,GAAgB,EAAE,CAAlB;QASA,IAAA,CAAA,eAAA,GAAoB,IAAI,YAAY,EAAE,CAAtC;QAMI,QAAQ,CAAC,gBAAgB,CAAC,wBAAwB,EAAE,CAAC,KAAK,KAA9D;YACM,IAAG,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACpB;SACF,CAAC,CAAC;QACH,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,CAAC,KAAK,KAA3D;YACM,uBAAM,GAAG,GAAQ,MAAM,CAAC;YACxB,uBAAM,YAAY,GAAG,GAAG,CAAC,UAAU;iBACd,GAAG,CAAC,UAAU,IAAI,MAAM,CAAC,KAAK,IAAI,GAAG,CAAC,WAAW,IAAI,MAAM,CAAC,MAAM,CAAC,CAAA;YACxF,IAAG,CAAC,YAAY,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACpB;SACF,CAAC,CAAC;QACH,QAAQ,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,CAAC,KAAK,KAA1D;YACM,uBAAM,GAAG,GAAQ,MAAM,CAAC;YACxB,uBAAM,YAAY,GAAG,GAAG,CAAC,UAAU;iBACd,GAAG,CAAC,UAAU,IAAI,MAAM,CAAC,KAAK,IAAI,GAAG,CAAC,WAAW,IAAI,MAAM,CAAC,MAAM,CAAC,CAAA;YACxF,IAAG,CAAC,YAAY,EAAE;gBAChB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACpB;SACF,CAAC,CAAC;KACJ;;;;;IAEO,iBAAiB,CAAC,MAAM,EAAlC;QACI,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,uBAAM,OAAO,GAAG,EAAE,CAAC;YACnB,uBAAM,MAAM,GAAG,EAAE,CAAC;YAClB,uBAAM,OAAO,GAAG;gBACd,KAAK,EAAC,EAAE;gBACR,KAAK,EAAE,EAAE;aACV,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,GAAG,EAAE,CAAC;YAC9C,MAAM,CAAC,GAAG,CAAE,CAAC,IAAI,EAAC,KAAK,KAAK,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;YACtD,MAAM,CAAC,GAAG,CAAE,CAAC,IAAI,EAAE,CAAC,KAA1B;gBACQ,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAE,EAAE;oBAC/B,KAAK,EAAE,IAAI,CAAC,KAAK,GAAE,IAAI,CAAC,KAAK,GAAG,CAAC;oBACjC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,QAAQ;oBAC1D,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE;iBACjC,CAAC,CAAC;gBACH,IAAG,IAAI,CAAC,OAAO,EAAE;oBACf,IAAI,CAAC,OAAO,CAAC,GAAG,CAAE,CAAC,EAAE,KAA/B;wBACY,uBAAM,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;wBACzB,IAAI,IAAI,IAAI,SAAS,EAAE;4BACrB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAC,CAAC,CAAC;yBAC/C;6BAAM;4BACL,MAAM,CAAC,IAAI,CAAC,uBAAuB,GAAG,EAAE,GAAG,cAAc,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC;yBAC7E;qBACF,CAAC,CAAA;iBACH;gBACD,IAAG,IAAI,CAAC,YAAY,EAAE;oBACpB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAE,CAAC,EAAE,KAApC;wBACY,uBAAM,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;wBACzB,IAAI,IAAI,IAAI,SAAS,EAAE;4BACrB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;yBAC/C;6BAAM;4BACL,MAAM,CAAC,IAAI,CAAC,4BAA4B,GAAG,EAAE,GAAG,cAAc,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC;yBAClF;qBACF,CAAC,CAAA;iBACH;aACF,CAAC,CAAC;YAEH,IAAI,MAAM,CAAC,MAAM,EAAE;gBACjB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,GAAG,sBAAsB,GAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAC,QAAQ,CAAC;aACjG;iBAAM;gBACL,uBAAM,MAAM,GAAG,EAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,EAAC,CAAC;gBACzF,MAAM,CAAC,YAAY,CAAC,CAClB,MAAM,CAAC,UAAU,EACjB,MAAM,CAAC,WAAW,EAClB,MAAM,EACN,OAAO,EACP,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,aAAa,EAClB,eAAe,CAAC,CAAC;aACpB;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,GAAG,yCAAyC,CAAC;SACtF;;;;;;IAGH,WAAW,CAAC,OAAY,EAA1B;QACI,IAAI,OAAO,CAAC,IAAI,EAAE;YAChB,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;SAC3C;KACF;;;;IAED,QAAQ,GAAV;QACI,IAAI,EAAE,IAAI,CAAC,IAAI,YAAY,KAAK,CAAC,EAAE;YACjC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;KACF;;;;IAEK,eAAe,GAAvB;;YACI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE;gBACzB,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,IAAI,CAAE,MAA1D;oBACQ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACnC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACnC;;KACF;;;;;;IAEM,UAAU,CAAC,GAAG,EAAE,EAAE,EAA3B;QACI,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAvC;YACM,uBAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAEvD,aAAa,CAAC,IAAI,GAAG,iBAAiB,CAAC;YACvC,aAAa,CAAC,GAAG,GAAG,GAAG,CAAC;YACxB,aAAa,CAAC,MAAM,GAAG,OAAO,CAAC;YAE/B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SAC5C,CAAC,CAAA;;;;;;IAGF,MAAM,CAAC,IAAI,EAAb;QACI,uBAAM,GAAG,GAAQ,QAAQ,CAAC;QAE1B,IAAI,IAAI,EAAE;YACR,uBAAM,OAAO,GAAQ,GAAG,CAAC,eAAe,CAAC;YACzC,IAAG,OAAO,CAAC,iBAAiB,EAAE;gBAC5B,OAAO,CAAC,iBAAiB,EAAE,CAAC;aAC7B;iBAAM,IAAG,OAAO,CAAC,oBAAoB,EAAE;gBACtC,OAAO,CAAC,oBAAoB,EAAE,CAAC;aAChC;iBAAM,IAAG,OAAO,CAAC,uBAAuB,EAAE;gBACzC,OAAO,CAAC,uBAAuB,EAAE,CAAC;aACnC;iBAAM,IAAG,OAAO,CAAC,mBAAmB,EAAE;gBACrC,OAAO,CAAC,mBAAmB,EAAE,CAAC;aAC/B;YACD,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC1D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,MAAM,CAAC,kBAAkB,CAAC,EAAE;gBAC9B,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAClC;SACF;aAAM;YACL,IAAG,GAAG,CAAC,cAAc,EAAE;gBACrB,GAAG,CAAC,cAAc,EAAE,CAAC;aACtB;iBAAM,IAAG,GAAG,CAAC,mBAAmB,EAAE;gBACjC,GAAG,CAAC,mBAAmB,EAAE,CAAC;aAC3B;iBAAM,IAAG,GAAG,CAAC,oBAAoB,EAAE;gBAClC,GAAG,CAAC,oBAAoB,EAAE,CAAC;aAC5B;YACD,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,MAAM,CAAC,kBAAkB,CAAC,EAAE;gBAC9B,MAAM,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;aAC/F;SACF;KACF;;;;;IAED,QAAQ,CAAC,KAAK,EAAhB;QACI,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACtC;;;IAlWH,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;gBACT,QAAQ,EAAE,cAAc;gBACxB,QAAQ,EAAE,CAAZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,CAAC;gBACC,MAAM,EAAE,CAAC,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA,CAAC,CAAC;aACD,EAAD,EAAA;;;;IArKA,EAAA,IAAA,EAAE,UAAU,GAAZ;;;IA4KA,eAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,eAAe,EAAxB,EAAA,EAAA;IAGA,eAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,eAAe,EAAxB,EAAA,EAAA;IAGA,iBAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,iBAAiB,EAA1B,EAAA,EAAA;IAGA,gBAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,gBAAgB,EAAzB,EAAA,EAAA;IAGA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,MAAM,EAAf,EAAA,EAAA;IAGA,aAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,aAAa,EAAtB,EAAA,EAAA;IAGA,OAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,OAAO,EAAhB,EAAA,EAAA;IAGA,QAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,QAAQ,EAAjB,EAAA,EAAA;IAGA,iBAAA,EAAA,CAAA,EAAA,IAAA,EAAG,MAAM,EAAT,IAAA,EAAA,CAAU,iBAAiB,EAA3B,EAAA,EAAA;IAGA,aAAA,EAAA,CAAA,EAAA,IAAA,EAAG,SAAS,EAAZ,IAAA,EAAA,CAAa,aAAa,EAA1B,EAAA,EAAA;;;;;;;ADnNA,AAwBA,MAAA,iBAAA,CAAA;;;IAlBA,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,OAAO,EAAE;oBACP,YAAY;iBACb;gBACD,YAAY,EAAE;oBACZ,oBAAoB;iBACrB;gBACD,OAAO,EAAE;oBACP,oBAAoB;iBACrB;gBACD,eAAe,EAAE;oBACf,oBAAoB;iBACrB;gBACD,SAAS,EAAE,EACV;gBACD,OAAO,EAAE,CAAC,sBAAsB,CAAC;aAClC,EAAD,EAAA;;;;;;;;;;;;;;;;;;;;"
}
